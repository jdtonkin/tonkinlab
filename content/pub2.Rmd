---
title: "Pub2"
---

Latest update - `r format(Sys.time(), '%d %B, %Y')`

\*current/past lab member


### Published

```{r, echo = F, message=F, warning=F}
## GET YOUR PUB LIST

# library -----------------------------------------------------------------

rm(list = ls())
pacman::p_load(tidyverse,
               scholar,
               reactable,
               reactablefmtr)

# data --------------------------------------------------------------------

## your google id - can be found in the link bar of your google scholar page
sid <- "Mtn0TIwAAAAJ"
lab <- c("JD Tonkin")
case <- c("margaritifera",
          "tanakia",
          "oncorhynchus",
          "gymnogobius",
          "carabidae",
          "mikata",
          "shubuto",
          "hokkaido",
          "japan",
          "japanese")

## get publication list
pubs <- get_publications(sid) %>% 
  as_tibble() %>% 
  filter(!(journal %in% c("EcoEvoRxiv",
                          "bioRxiv",
                          ""))) %>% 
  arrange(desc(year)) %>% 
  mutate(author = str_replace(author, "SM Shin-ichiro", "SS Matsuzaki"),
         title = str_to_sentence(title),
         journal = str_to_title(journal) %>% 
           str_replace_all("Of", "of") %>% 
           str_replace_all("The", "the") %>% 
           str_replace_all("And", "and")) %>%
  select(title, author, journal, year, cites) %>%
  transmute(year = year,
            item = paste0(author, ". ", title, ". ", journal),
            cites = cites) %>% 
  rename_with(.fn = str_to_sentence)

## case modify
for(i in 1:length(case)) {
  pubs <- pubs %>% 
    mutate(Item = str_replace_all(Item, 
                                  case[i],
                                  str_to_sentence(case[i])))
}

## mark lab members
for(i in 1:length(lab)) {
  pubs <- pubs %>%
    mutate(Item = str_replace(Item,
                              pattern = lab[i],
                              replacement = paste0(lab[i], "*")))
}

## print
pubs %>% 
  reactable(searchable = TRUE,
            pagination = FALSE,
            columns = list(
              Year = colDef(maxWidth = 70),
              Cites = colDef(cell = data_bars(pubs,
                                              text_position = "outside-base",
                                              fill_color = viridis::viridis(5)),
                             maxWidth = 100)
              )
            )
```
